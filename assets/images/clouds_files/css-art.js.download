!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Split=t()}(this,function(){"use strict";var D="undefined"!=typeof window?window:null,U=null===D,W=U?void 0:D.document,j="addEventListener",Y="removeEventListener",$="getBoundingClientRect",F="horizontal",H=function(){return!1},i=U?"calc":["","-webkit-","-moz-","-o-"].filter(function(e){var t=W.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length}).shift()+"calc",a=function(e){return"string"==typeof e||e instanceof String},P=function(e){if(a(e)){var t=W.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},R=function(e,t,n){var r=e[t];return void 0!==r?r:n},J=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},X=function(e,t){var n=W.createElement("div");return n.className="gutter gutter-"+t,n},G=function(e,t,n){var r={};return a(t)?r[e]=t:r[e]=i+"("+t+"% - "+n+"px)",r},K=function(e,t){var n;return(n={})[e]=t+"px",n};return function(e,i){if(void 0===i&&(i={}),U)return{};var c,t,a,o,r,s,u=e;Array.from&&(u=Array.from(u));var l=P(u[0]).parentNode,n=getComputedStyle?getComputedStyle(l):null,d=n?n.flexDirection:null,m=R(i,"sizes")||u.map(function(){return 100/u.length}),f=R(i,"minSize",100),y=Array.isArray(f)?f:u.map(function(){return f}),v=R(i,"maxSize",1/0),g=Array.isArray(v)?v:u.map(function(){return v}),h=R(i,"expandToMin",!1),p=R(i,"gutterSize",10),b=R(i,"gutterAlign","center"),w=R(i,"snapOffset",30),S=Array.isArray(w)?w:u.map(function(){return w}),_=R(i,"dragInterval",1),z=R(i,"direction",F),q=R(i,"cursor",z===F?"col-resize":"row-resize"),E=R(i,"gutter",X),k=R(i,"elementStyle",G),A=R(i,"gutterStyle",K);function L(t,e,n,r){var i=k(c,e,n,r);Object.keys(i).forEach(function(e){t.style[e]=i[e]})}function x(){return s.map(function(e){return e.size})}function O(e){return"touches"in e?e.touches[0][t]:e[t]}function T(e){var t=s[this.a],n=s[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,L(t.element,t.size,this._b,t.i),L(n.element,n.size,this._c,n.i)}function I(){var e=s[this.a].element,t=s[this.b].element,n=e[$](),r=t[$]();this.size=n[c]+r[c]+this._b+this._c,this.start=n[a],this.end=n[o]}function B(a){var o=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[r];return 0===n?null:n-=z===F?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(l);if(null===o)return a;if(y.reduce(function(e,t){return e+t},0)>o)return a;var s=0,c=[],e=a.map(function(e,t){var n=o*e/100,r=J(p,0===t,t===a.length-1,b),i=y[t]+r;return n<i?(s+=i-n,c.push(0),i):(c.push(n-i),n)});return 0===s?a:e.map(function(e,t){var n=e;if(0<s&&0<c[t]-s){var r=Math.min(s,c[t]-s);s-=r,n=e-r}return n/o*100})}function M(e){if(!("button"in e&&0!==e.button)){var t=this,n=s[t.a].element,r=s[t.b].element;t.dragging||R(i,"onDragStart",H)(x()),e.preventDefault(),t.dragging=!0,t.move=function(e){var t,n=s[this.a],r=s[this.b];this.dragging&&(t=O(e)-this.start+(this._b-this.dragOffset),1<_&&(t=Math.round(t/_)*_),t<=n.minSize+n.snapOffset+this._b?t=n.minSize+this._b:t>=this.size-(r.minSize+r.snapOffset+this._c)&&(t=this.size-(r.minSize+this._c)),t>=n.maxSize-n.snapOffset+this._b?t=n.maxSize+this._b:t<=this.size-(r.maxSize-r.snapOffset+this._c)&&(t=this.size-(r.maxSize+this._c)),T.call(this,t),R(i,"onDrag",H)(x()))}.bind(t),t.stop=function(){var e=this,t=s[e.a].element,n=s[e.b].element;e.dragging&&R(i,"onDragEnd",H)(x()),e.dragging=!1,D[Y]("mouseup",e.stop),D[Y]("touchend",e.stop),D[Y]("touchcancel",e.stop),D[Y]("mousemove",e.move),D[Y]("touchmove",e.move),e.stop=null,e.move=null,t[Y]("selectstart",H),t[Y]("dragstart",H),n[Y]("selectstart",H),n[Y]("dragstart",H),t.style.userSelect="",t.style.webkitUserSelect="",t.style.MozUserSelect="",t.style.pointerEvents="",n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",W.body.style.cursor=""}.bind(t),D[j]("mouseup",t.stop),D[j]("touchend",t.stop),D[j]("touchcancel",t.stop),D[j]("mousemove",t.move),D[j]("touchmove",t.move),n[j]("selectstart",H),n[j]("dragstart",H),r[j]("selectstart",H),r[j]("dragstart",H),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.MozUserSelect="none",n.style.pointerEvents="none",r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",t.gutter.style.cursor=q,t.parent.style.cursor=q,W.body.style.cursor=q,I.call(t),t.dragOffset=O(e)-t.end}}z===F?(c="width",t="clientX",a="left",o="right",r="clientWidth"):"vertical"===z&&(c="height",t="clientY",a="top",o="bottom",r="clientHeight"),m=B(m);var N=[];function C(e){var t=e.i===N.length,n=t?N[e.i-1]:N[e.i];I.call(n);var r=t?n.size-e.minSize-n._c:e.minSize+n._b;T.call(n,r)}return(s=u.map(function(e,t){var n,r,i,a={element:P(e),size:m[t],minSize:y[t],maxSize:g[t],snapOffset:S[t],i:t};if(0<t&&((n={a:t-1,b:t,dragging:!1,direction:z,parent:l})._b=J(p,t-1==0,!1,b),n._c=J(p,!1,t===u.length-1,b),"row-reverse"===d||"column-reverse"===d)){var o=n.a;n.a=n.b,n.b=o}if(0<t){var s=E(t,z,a.element);r=s,i=A(c,p,t),Object.keys(i).forEach(function(e){r.style[e]=i[e]}),n._a=M.bind(n),s[j]("mousedown",n._a),s[j]("touchstart",n._a),l.insertBefore(s,a.element),n.gutter=s}return L(a.element,a.size,J(p,0===t,t===u.length-1,b),t),0<t&&N.push(n),a})).forEach(function(e){var t=e.element[$]()[c];t<e.minSize&&(h?C(e):e.minSize=t)}),{setSizes:function(e){var a=B(e);a.forEach(function(e,t){if(0<t){var n=N[t-1],r=s[n.a],i=s[n.b];r.size=a[t-1],i.size=e,L(r.element,r.size,n._b,r.i),L(i.element,i.size,n._c,i.i)}})},getSizes:x,collapse:function(e){C(s[e])},destroy:function(n,r){N.forEach(function(t){if(!0!==r?t.parent.removeChild(t.gutter):(t.gutter[Y]("mousedown",t._a),t.gutter[Y]("touchstart",t._a)),!0!==n){var e=k(c,t.a.size,t._b);Object.keys(e).forEach(function(e){s[t.a].element.style[e]="",s[t.b].element.style[e]=""})}})},parent:l,pairs:N}}}),function(e,t){"use strict";$async.time("domReady",function(){var e,t,n,r=document.querySelector("footer");function i(){gtag("event","open_questionaire",{event_category:"open_questionaire",event_label:"Open questionaire"}),function(){if(!f){window.$async("/css/fontawesome.min.css").then(function(){window.$async("/css/brands.min.css")});var t=document.getElementById("answers");if(t){t.querySelectorAll("textarea").forEach(function(e){d(e,"focus",function(){document.querySelectorAll("#answers > div.art, #answers > div.beauty").forEach(function(e){""===e.querySelector("textarea").value.trim()&&e.classList.remove("active"),e.classList.add("inactive")}),e.parentNode.classList.add("active"),e.parentNode.classList.remove("inactive"),t.classList.add("active"),t.parentNode.classList.add("active"),m?m.setSizes(e.parentNode.classList.contains("art")?[99,1]:[1,99]):(gtag("event","answer_start_write",{event_category:"answer",event_label:"Answer start write"}),m=Split([t.querySelector(".art"),t.querySelector(".beauty")],{sizes:e.parentNode.classList.contains("art")?[99,1]:[1,99],minSize:[50,50],onDrag:function(){document.querySelectorAll("#answers > div.art, #answers > div.beauty").forEach(function(e){e.classList.remove("inactive")})}}))}),d(e,"blur",function(){""===e.value.trim()&&(document.querySelectorAll("#answers > div.art, #answers > div.beauty").forEach(function(e){""===e.querySelector("textarea").value.trim()&&e.classList.remove("active"),e.classList.remove("inactive")}),m&&m.setSizes([50,50]))})}),t.querySelectorAll('input[name="art_rating"], input[name="beauty_rating"]').forEach(function(t){d(t,["change","keyup"],function(){var e=parseInt(t.value.trim());isNaN(e)?(t.value="",t.title="Invalid number",t.classList.add("error")):(t.title=e<0?(e=0,t.classList.add("error"),"Minumum is 0"):10<e?(e=10,t.classList.add("error"),"Maximum is 0"):(t.classList.remove("error"),""),t.value=e.toString())}),d(t,["focus","blur","keypress","keydown"],function(){t.classList.remove("error"),t.title=""})});var e=document.getElementById("login-buttons");e.querySelectorAll("button").forEach(function(t){d(t,"click",function(){var e=t.getAttribute("rel");gtag("event","answer_auth_"+e,{event_category:"answer",event_label:"Answer auth via "+e});window.open("/verify.php?type="+e,"answer-auth")})});var n=document.getElementById("submit-answer");d(document.getElementById("disconnect"),"click",function(){document.querySelector(".login-social").classList.remove("connected"),document.querySelector(".login-social").setAttribute("data-id",""),n.disabled=!0,gtag("event","answer_auth_disconnect",{event_category:"answer",event_label:"Answer auth disconnect"})}),d(n,"click",function(){!function(){if(document.getElementById("submit-answer").disabled)return;var n=document.querySelector("#answers .art textarea").value.trim(),r=document.querySelector("#answers .beauty textarea").value.trim(),e=document.querySelector("#answers .art .rating input").value.trim(),t=document.querySelector("#answers .beauty .rating input").value.trim(),i=document.querySelector(".login-name .name input").value.trim(),a=document.querySelector(".login-name .website input").value.trim();if(!n&&!r)return alert("You did not enter an answer.");if(n&&!e)return alert("You did not enter an art rating (0-10).");if(r&&!t)return alert("You did not enter a beauty rating (0-10).");if(!i)return alert("You did not enter a name.");var o=document.querySelector(".login-social").getAttribute("data-id");if(!o)return alert("Not verified. Please connect via social media.");var s={answer_art:n,answer_beauty:r,rating_art:e,rating_beauty:t,name:i,website:a,profile:o,artwork:document.querySelector(".questionaire").getAttribute("data-artwork")};gtag("event","answer_submitted",{event_category:"answer",event_label:"Answer submitted"}),fetch("/submit.php",{credentials:"include",mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:s})}).then(function(e){return e.json()}).then(function(e){if(e.error)alert(e.error);else if("added"===e.status){var t="Thank you! The answer has been added and will soon be listed on the website.";n&&!r?t+='\n\nIt is possible to subsequently add an answer for the question "What is beauty?".':!n&&r&&(t+='\n\nIt is possible to subsequently add an answer for the question "What is art?".'),alert(t)}else"updated"===e.status&&alert("The answer has been updated.")})}()})}}}(),r.classList.add("open"),n=Split([document.querySelector("main"),r],{sizes:[20,80],minSize:[10,10],direction:"vertical",cursor:"row-resize"})}function a(){r.classList.remove("open"),n.destroy()}var o=document.getElementById("artwork");if(o){var s,c="/artwork/"+(e=JSON.parse(o.innerHTML))[0]+"/";e[1]instanceof Array||(e[1]=[e[1]]);(new Date).getTime();var u=function(){try{return(t=document.getElementById("artwork_frame")).style.display="",t.contentWindow.document.open(),t.contentWindow.document.write("<!DOCTYPE html><html><head><title>artwork</title><style rel=\"reset.css\">html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}</style><script>"+e[3]+"<\/script></head><body>"+e[2]+"<script>"+(e[4]?e[4]:"")+"<\/script></body></html>"),t.contentWindow.document.close(),t.contentWindow.$async}catch(e){console.error("write_artwork_frame",e)}}();u||console.error("no $async",e),s=new t.contentWindow.Array;var l=/^http(s)?:/;e[1].forEach(function(e){s.push(l.test(e)?e:c+e)}),u(s).then(function(){document.querySelector(".artwork-frame .loading").style.display="none"})}function d(t,e,n){e instanceof Array?e.forEach(function(e){d(t,e,n)}):t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,function(){return n.call(t,window.event)})}document.querySelectorAll("a.open_questionaire").forEach(function(e){d(e,"click",i)}),document.querySelectorAll("footer a.close").forEach(function(e){d(e,"click",a)});var m,f,y=document.getElementById("st-src");y&&d(y,"click",function(){gtag("event","artwork_source_editor",{event_category:"artwork_source_editor",event_label:"Artwork Source Code in Style.Tools editor"}),window.open(y.getAttribute("data-src"),"artwork-source")}),window.handle_auth=function(e){if(e.error)setTimeout(function(){alert(e.error)},10);else{var t=document.querySelector('#login-buttons button[rel="'+e.type+'"]');if(!t)return void alert("Invalid type");document.getElementById("status").querySelector("span.type").innerHTML=t.innerHTML,document.querySelector(".login-social").classList.add("connected"),document.querySelector(".login-social").setAttribute("data-id",e.id),document.querySelector(".login-social").setAttribute("data-name",e.name),document.querySelector(".login-social").setAttribute("data-website",e.website);var n=document.querySelector(".login-name .name input");""===n.value.trim()&&(n.value=e.name);var r=document.querySelector(".login-name .website input");""===r.value.trim()&&(r.value=e.website),document.getElementById("submit-answer").disabled=!1}}})}(window);